!function(){"use strict";window.fpExpAdmin=window.fpExpAdmin||{},window.fpExpAdmin.initMediaControls=function(e){const t=e.querySelectorAll("[data-fp-media-control]");t.length&&t.forEach(e=>{const t=e.querySelector("[data-fp-media-button]"),i=e.querySelector("[data-fp-media-input]"),n=e.querySelector("[data-fp-media-preview]"),o=e.querySelector("[data-fp-media-remove]");t&&i&&(t.addEventListener("click",function(e){if(e.preventDefault(),window.wp&&window.wp.media){const e=window.wp.media({title:window.fpExpAdmin.getString("Select Media"),button:{text:window.fpExpAdmin.getString("Use This Media")},multiple:!1});e.on("select",function(){!function(e,t,i,n){if(t.value=e.id,i){const t=i.querySelector("img");t&&(t.src=e.sizes?.thumbnail?.url||e.url,t.alt=e.alt||""),i.style.display="block"}n&&(n.style.display="inline-block")}(e.state().get("selection").first().toJSON(),i,n,o)}),e.open()}}),o&&o.addEventListener("click",function(e){e.preventDefault(),function(e,t,i){e.value="",t&&(t.style.display="none");i&&(i.style.display="none")}(i,n,o)}))})}}();